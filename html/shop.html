<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../stylesheet/indexStyle.css" />
    <link rel="stylesheet" href="../stylesheet/shopStyle.css" />
    <link
      rel="shortcut icon"
      href="../img/android-chrome-512x512.png"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <script defer src="../javascript/menu.js"></script>
    <script src="../src/shop.js"></script>
    <title>VANILLA & Co.</title>
  </head>
  <body>
    <!--HEADER SECTION-->
    <header class="header">
      <div class="header__logo">
        <a href="./index.html">
          <img
            class="header__logo--img1"
            src="../img/logo (3).png"
            alt="logo VANILLA & Co."
          />
          <img
            class="header__logo--img2"
            src="../img/logo (5).png"
            alt="logo VANILLA & Co."
          />
        </a>
      </div>

      <div class="header__menu">
        <button class="open__menu" id="open">
          <i class="bi bi-list"></i>
        </button>
        <nav class="menu nav" id="nav">
          <button class="close__menu" id="close">
            <i class="bi bi-x"></i>
          </button>

          <ul class="menu__list nav__list">
            <li class="menu__list--item">
              <a class="menu__list--link" href="./index.html">INICIO</a>
            </li>
            <li class="menu__list--item">
              <a class="menu__list--link" href="./aboutus.html"
                >SOBRE NOSOTROS</a
              >
            </li>
            <li class="menu__list--item">
              <a class="menu__list--link" href="./shop.html">TIENDA</a>
            </li>
            <li class="menu__list--item">
              <a class="menu__list--link" href="./login.html">LOGIN</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!--SECTION-->
    <section class="section">
      <div class="section__shop">
        <h2>Sabores únicos a precios que te sorprenderán</h2>
        <p>PRECIOS INSUPERABLES!</p>
      </div>
    </section>

    <!--MAIN-->
    <main class="mainShop" id="mainShop"></main>

    <!--FOOTER-->
    <footer class="footer">
      <div class="footer__social">
        <a href="https://www.facebook.com" target="_blank"
          ><i class="bi bi-facebook"></i
        ></a>
        <a href="https://www.twitter.com" target="_blank"
          ><i class="bi bi-twitter-x"></i
        ></a>
        <a href="https://www.instagram.com" target="_blank"
          ><i class="bi bi-instagram"></i
        ></a>
        <a href="https://www.linkedin.com" target="_blank"
          ><i class="bi bi-linkedin"></i
        ></a>
        <a href="https://www.youtube.com" target="_blank"
          ><i class="bi bi-youtube"></i
        ></a>
      </div>

      <div class="footer__info">
        <p>&copy; 2024 Daniel Alfonso. Todos los derechos reservados.</p>
        <p><a href="#">Politica de Privacidad</a></p>
        <p><a href="#">Términos de Uso</a></p>
      </div>

      <div class="footer__contact">
        <a href="https://whatsapp.com" target="_blank"
          ><i class="bi bi-whatsapp"></i
        ></a>
        <p>contacto@correo.com</p>
        <a class="footer__contact--phone" href="tel:+573001234567"
          >+57-3001234567</a
        >
      </div>

      <div class="footer__header">
        <a href="./index.html">
          <img src="../img/logo (4).png" alt="VANILLA & Co" />
        </a>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const mainShop = document.getElementById("mainShop");
        function createProduct(product) {
          const mainShopItemDiv = document.createElement("div");
          mainShopItemDiv.className = "mainShop__item";

          const mainShopItemProductDiv = document.createElement("div");
          mainShopItemProductDiv.className = "mainShop__item--product";

          const imagen = document.createElement("img");
          imagen.src = product.imagen;
          imagen.alt = product.descripcion;

          const mainShopItemDescriptionDiv = document.createElement("div");
          mainShopItemDescriptionDiv.className = "mainShop__item--description";

          const h2 = document.createElement("h2");
          h2.textContent = product.nombre_helado;

          const h5 = document.createElement("h5");
          h5.textContent = product.descripcion;

          const mainShopItemStartDiv = document.createElement("div");
          mainShopItemStartDiv.className = "mainShop__item--star";

          for (let contador = 1; contador <= 5; contador++) {
            const star = document.createElement("i");
            star.className = "bi_shop bi-star-fill";
            mainShopItemStartDiv.appendChild(star);
          }
          const h4 = document.createElement("h4");
          h4.textContent = product.precio;

          const iconoCart = document.createElement("i");
          iconoCart.className = "bi bi-cart-fill cart";

          mainShopItemDescriptionDiv.appendChild(h2);
          mainShopItemDescriptionDiv.appendChild(h5);
          mainShopItemDescriptionDiv.appendChild(mainShopItemStartDiv);
          mainShopItemDescriptionDiv.appendChild(h4);

          mainShopItemProductDiv.appendChild(imagen);
          mainShopItemProductDiv.appendChild(mainShopItemDescriptionDiv);
          mainShopItemProductDiv.appendChild(iconoCart);

          mainShopItemDiv.appendChild(mainShopItemProductDiv);

          return mainShopItemDiv;
        }
        function listProducts() {
          fetch("http://localhost:3000/product/list")
            .then((response) => response.json())
            .then((productos) => {
              productos.forEach((producto) => {
                const productItem = createProduct(producto);
                mainShop.appendChild(productItem);
              });
            });
        }
        listProducts();
      });
    </script>
  </body>
</html>
